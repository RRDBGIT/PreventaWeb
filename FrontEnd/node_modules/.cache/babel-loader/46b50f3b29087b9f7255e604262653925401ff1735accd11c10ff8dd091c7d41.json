{"ast":null,"code":"var _jsxFileName = \"C:\\\\PreventaWeb\\\\FrontEnd\\\\src\\\\components\\\\BusquedaPorCodigo.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport API from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BusquedaPorCodigo = ({\n  listaPreciosId,\n  onAdd\n}) => {\n  _s();\n  const [codigo, setCodigo] = useState('');\n  const [producto, setProducto] = useState(null);\n  const [cantidad, setCantidad] = useState(1);\n  const [error, setError] = useState('');\n  const handleBuscar = async () => {\n    if (!codigo || !listaPreciosId) {\n      setError('Ingrese c√≥digo y seleccione lista de precios');\n      return;\n    }\n    try {\n      // ‚úÖ ¬°CORREGIDO! Se agreg√≥ \"/api\" al inicio de la ruta\n      const res = await API.get(`/api/productos?lista=${listaPreciosId}`);\n      const prod = res.data.find(p => p.Codigo === codigo);\n      if (prod) {\n        setProducto(prod);\n        setError('');\n      } else {\n        setProducto(null);\n        setError('Producto no encontrado');\n      }\n    } catch (error) {\n      console.error(\"Error en b√∫squeda por c√≥digo:\", error);\n      setError('Error al buscar producto. Verifique conexi√≥n o lista seleccionada.');\n    }\n  };\n  const handleAdd = () => {\n    if (!producto) return alert(\"Primero busque un producto v√°lido\");\n    const cantidadNum = parseFloat(cantidad);\n    if (!cantidadNum || cantidadNum <= 0) return alert(\"Cantidad inv√°lida\");\n    onAdd(producto, cantidadNum, producto.Precio);\n    setCodigo('');\n    setProducto(null);\n    setCantidad(1);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '1rem',\n      border: '1px solid #ddd',\n      borderRadius: '8px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"\\uD83D\\uDD0D Buscar Producto por C\\xF3digo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: '0.5rem',\n        marginBottom: '1rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"C\\xF3digo del producto\",\n        value: codigo,\n        onChange: e => setCodigo(e.target.value.toUpperCase()),\n        style: {\n          flex: 1,\n          padding: '0.5rem'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleBuscar,\n        style: {\n          padding: '0.5rem 1rem',\n          backgroundColor: '#007bff',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px'\n        },\n        children: \"Buscar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: 'red',\n        fontWeight: 'bold'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 23\n    }, this), producto && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundColor: '#f8f9fa',\n        padding: '1rem',\n        borderRadius: '4px',\n        marginBottom: '1rem',\n        borderLeft: '4px solid #28a745'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"C\\xF3digo:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }, this), \" \", producto.Codigo, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 63\n      }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Descripci\\xF3n:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }, this), \" \", producto.Descripcion, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 73\n      }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Precio Unitario:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }, this), \" $\", parseFloat(producto.Precio).toFixed(2), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 96\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '0.5rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Cantidad:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 32\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: cantidad,\n          onChange: e => setCantidad(e.target.value),\n          min: \"1\",\n          step: \"1\",\n          style: {\n            width: '80px',\n            marginLeft: '0.5rem',\n            padding: '0.3rem',\n            textAlign: 'center'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleAdd,\n          style: {\n            marginLeft: '1rem',\n            padding: '0.4rem 1.2rem',\n            backgroundColor: '#28a745',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            fontWeight: 'bold'\n          },\n          children: \"\\u2795 Agregar al Carrito\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n};\n_s(BusquedaPorCodigo, \"ABEFoTzxF+/631NVLGrVEN4jpng=\");\n_c = BusquedaPorCodigo;\nexport default BusquedaPorCodigo;\nvar _c;\n$RefreshReg$(_c, \"BusquedaPorCodigo\");","map":{"version":3,"names":["React","useState","API","jsxDEV","_jsxDEV","BusquedaPorCodigo","listaPreciosId","onAdd","_s","codigo","setCodigo","producto","setProducto","cantidad","setCantidad","error","setError","handleBuscar","res","get","prod","data","find","p","Codigo","console","handleAdd","alert","cantidadNum","parseFloat","Precio","style","padding","border","borderRadius","children","fileName","_jsxFileName","lineNumber","columnNumber","display","gap","marginBottom","type","placeholder","value","onChange","e","target","toUpperCase","flex","onClick","backgroundColor","color","fontWeight","borderLeft","Descripcion","toFixed","marginTop","min","step","width","marginLeft","textAlign","_c","$RefreshReg$"],"sources":["C:/PreventaWeb/FrontEnd/src/components/BusquedaPorCodigo.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport API from '../services/api';\n\nconst BusquedaPorCodigo = ({ listaPreciosId, onAdd }) => {\n    const [codigo, setCodigo] = useState('');\n    const [producto, setProducto] = useState(null);\n    const [cantidad, setCantidad] = useState(1);\n    const [error, setError] = useState('');\n\n    const handleBuscar = async () => {\n        if (!codigo || !listaPreciosId) {\n            setError('Ingrese c√≥digo y seleccione lista de precios');\n            return;\n        }\n\n        try {\n            // ‚úÖ ¬°CORREGIDO! Se agreg√≥ \"/api\" al inicio de la ruta\n            const res = await API.get(`/api/productos?lista=${listaPreciosId}`);\n            const prod = res.data.find(p => p.Codigo === codigo);\n            if (prod) {\n                setProducto(prod);\n                setError('');\n            } else {\n                setProducto(null);\n                setError('Producto no encontrado');\n            }\n        } catch (error) {\n            console.error(\"Error en b√∫squeda por c√≥digo:\", error);\n            setError('Error al buscar producto. Verifique conexi√≥n o lista seleccionada.');\n        }\n    };\n\n    const handleAdd = () => {\n        if (!producto) return alert(\"Primero busque un producto v√°lido\");\n        const cantidadNum = parseFloat(cantidad);\n        if (!cantidadNum || cantidadNum <= 0) return alert(\"Cantidad inv√°lida\");\n        onAdd(producto, cantidadNum, producto.Precio);\n        setCodigo('');\n        setProducto(null);\n        setCantidad(1);\n    };\n\n    return (\n        <div style={{ padding: '1rem', border: '1px solid #ddd', borderRadius: '8px' }}>\n            <h3>üîç Buscar Producto por C√≥digo</h3>\n            <div style={{ display: 'flex', gap: '0.5rem', marginBottom: '1rem' }}>\n                <input\n                    type=\"text\"\n                    placeholder=\"C√≥digo del producto\"\n                    value={codigo}\n                    onChange={(e) => setCodigo(e.target.value.toUpperCase())}\n                    style={{ flex: 1, padding: '0.5rem' }}\n                />\n                <button onClick={handleBuscar} style={{ padding: '0.5rem 1rem', backgroundColor: '#007bff', color: 'white', border: 'none', borderRadius: '4px' }}>\n                    Buscar\n                </button>\n            </div>\n\n            {error && <p style={{ color: 'red', fontWeight: 'bold' }}>{error}</p>}\n\n            {producto && (\n                <div style={{ backgroundColor: '#f8f9fa', padding: '1rem', borderRadius: '4px', marginBottom: '1rem', borderLeft: '4px solid #28a745' }}>\n                    <strong>C√≥digo:</strong> {producto.Codigo}<br/>\n                    <strong>Descripci√≥n:</strong> {producto.Descripcion}<br/>\n                    <strong>Precio Unitario:</strong> ${parseFloat(producto.Precio).toFixed(2)}<br/>\n                    <div style={{ marginTop: '0.5rem' }}>\n                        <label><strong>Cantidad:</strong> </label>\n                        <input\n                            type=\"number\"\n                            value={cantidad}\n                            onChange={(e) => setCantidad(e.target.value)}\n                            min=\"1\"\n                            step=\"1\"\n                            style={{ width: '80px', marginLeft: '0.5rem', padding: '0.3rem', textAlign: 'center' }}\n                        />\n                        <button\n                            onClick={handleAdd}\n                            style={{ marginLeft: '1rem', padding: '0.4rem 1.2rem', backgroundColor: '#28a745', color: 'white', border: 'none', borderRadius: '4px', fontWeight: 'bold' }}\n                        >\n                            ‚ûï Agregar al Carrito\n                        </button>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default BusquedaPorCodigo;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import React,{useState}from'react';import API from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BusquedaPorCodigo=_ref=>{let{listaPreciosId,onAdd}=_ref;const[codigo,setCodigo]=useState('');const[producto,setProducto]=useState(null);const[cantidad,setCantidad]=useState(1);const[error,setError]=useState('');const handleBuscar=async()=>{if(!codigo||!listaPreciosId){setError('Ingrese c√≥digo y seleccione lista de precios');return;}try{// ‚úÖ CORRECTO: Sin /api aqu√≠\nconst res=await API.get(\"/productos?lista=\".concat(listaPreciosId));const prod=res.data.find(p=>p.Codigo===codigo);if(prod){setProducto(prod);setError('');}else{setProducto(null);setError('Producto no encontrado');}}catch(error){console.error(\"Error en b√∫squeda por c√≥digo:\",error);setError('Error al buscar producto. Verifique conexi√≥n o lista seleccionada.');}};const handleAdd=()=>{if(!producto)return alert(\"Primero busque un producto v√°lido\");const cantidadNum=parseFloat(cantidad);if(!cantidadNum||cantidadNum<=0)return alert(\"Cantidad inv√°lida\");onAdd(producto,cantidadNum,producto.Precio);setCodigo('');setProducto(null);setCantidad(1);};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',border:'1px solid #ddd',borderRadius:'8px'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDD0D Buscar Producto por C\\xF3digo\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.5rem',marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"C\\xF3digo del producto\",value:codigo,onChange:e=>setCodigo(e.target.value.toUpperCase()),style:{flex:1,padding:'0.5rem'}}),/*#__PURE__*/_jsx(\"button\",{onClick:handleBuscar,style:{padding:'0.5rem 1rem',backgroundColor:'#007bff',color:'white',border:'none',borderRadius:'4px'},children:\"Buscar\"})]}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red',fontWeight:'bold'},children:error}),producto&&/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'#f8f9fa',padding:'1rem',borderRadius:'4px',marginBottom:'1rem',borderLeft:'4px solid #28a745'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"C\\xF3digo:\"}),\" \",producto.Codigo,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Descripci\\xF3n:\"}),\" \",producto.Descripcion,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Precio Unitario:\"}),\" $\",parseFloat(producto.Precio).toFixed(2),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'0.5rem'},children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Cantidad:\"}),\" \"]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:cantidad,onChange:e=>setCantidad(e.target.value),min:\"1\",step:\"1\",style:{width:'80px',marginLeft:'0.5rem',padding:'0.3rem',textAlign:'center'}}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAdd,style:{marginLeft:'1rem',padding:'0.4rem 1.2rem',backgroundColor:'#28a745',color:'white',border:'none',borderRadius:'4px',fontWeight:'bold'},children:\"\\u2795 Agregar al Carrito\"})]})]})]});};export default BusquedaPorCodigo;","map":{"version":3,"names":["React","useState","API","jsx","_jsx","jsxs","_jsxs","BusquedaPorCodigo","_ref","listaPreciosId","onAdd","codigo","setCodigo","producto","setProducto","cantidad","setCantidad","error","setError","handleBuscar","res","get","concat","prod","data","find","p","Codigo","console","handleAdd","alert","cantidadNum","parseFloat","Precio","style","padding","border","borderRadius","children","display","gap","marginBottom","type","placeholder","value","onChange","e","target","toUpperCase","flex","onClick","backgroundColor","color","fontWeight","borderLeft","Descripcion","toFixed","marginTop","min","step","width","marginLeft","textAlign"],"sources":["C:/PreventaWeb/FrontEnd/src/components/BusquedaPorCodigo.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport API from '../services/api';\n\nconst BusquedaPorCodigo = ({ listaPreciosId, onAdd }) => {\n    const [codigo, setCodigo] = useState('');\n    const [producto, setProducto] = useState(null);\n    const [cantidad, setCantidad] = useState(1);\n    const [error, setError] = useState('');\n\n    const handleBuscar = async () => {\n        if (!codigo || !listaPreciosId) {\n            setError('Ingrese c√≥digo y seleccione lista de precios');\n            return;\n        }\n\n        try {\n            // ‚úÖ CORRECTO: Sin /api aqu√≠\n            const res = await API.get(`/productos?lista=${listaPreciosId}`);\n            const prod = res.data.find(p => p.Codigo === codigo);\n            if (prod) {\n                setProducto(prod);\n                setError('');\n            } else {\n                setProducto(null);\n                setError('Producto no encontrado');\n            }\n        } catch (error) {\n            console.error(\"Error en b√∫squeda por c√≥digo:\", error);\n            setError('Error al buscar producto. Verifique conexi√≥n o lista seleccionada.');\n        }\n    };\n\n    const handleAdd = () => {\n        if (!producto) return alert(\"Primero busque un producto v√°lido\");\n        const cantidadNum = parseFloat(cantidad);\n        if (!cantidadNum || cantidadNum <= 0) return alert(\"Cantidad inv√°lida\");\n        onAdd(producto, cantidadNum, producto.Precio);\n        setCodigo('');\n        setProducto(null);\n        setCantidad(1);\n    };\n\n    return (\n        <div style={{ padding: '1rem', border: '1px solid #ddd', borderRadius: '8px' }}>\n            <h3>üîç Buscar Producto por C√≥digo</h3>\n            <div style={{ display: 'flex', gap: '0.5rem', marginBottom: '1rem' }}>\n                <input\n                    type=\"text\"\n                    placeholder=\"C√≥digo del producto\"\n                    value={codigo}\n                    onChange={(e) => setCodigo(e.target.value.toUpperCase())}\n                    style={{ flex: 1, padding: '0.5rem' }}\n                />\n                <button onClick={handleBuscar} style={{ padding: '0.5rem 1rem', backgroundColor: '#007bff', color: 'white', border: 'none', borderRadius: '4px' }}>\n                    Buscar\n                </button>\n            </div>\n\n            {error && <p style={{ color: 'red', fontWeight: 'bold' }}>{error}</p>}\n\n            {producto && (\n                <div style={{ backgroundColor: '#f8f9fa', padding: '1rem', borderRadius: '4px', marginBottom: '1rem', borderLeft: '4px solid #28a745' }}>\n                    <strong>C√≥digo:</strong> {producto.Codigo}<br/>\n                    <strong>Descripci√≥n:</strong> {producto.Descripcion}<br/>\n                    <strong>Precio Unitario:</strong> ${parseFloat(producto.Precio).toFixed(2)}<br/>\n                    <div style={{ marginTop: '0.5rem' }}>\n                        <label><strong>Cantidad:</strong> </label>\n                        <input\n                            type=\"number\"\n                            value={cantidad}\n                            onChange={(e) => setCantidad(e.target.value)}\n                            min=\"1\"\n                            step=\"1\"\n                            style={{ width: '80px', marginLeft: '0.5rem', padding: '0.3rem', textAlign: 'center' }}\n                        />\n                        <button\n                            onClick={handleAdd}\n                            style={{ marginLeft: '1rem', padding: '0.4rem 1.2rem', backgroundColor: '#28a745', color: 'white', border: 'none', borderRadius: '4px', fontWeight: 'bold' }}\n                        >\n                            ‚ûï Agregar al Carrito\n                        </button>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default BusquedaPorCodigo;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}